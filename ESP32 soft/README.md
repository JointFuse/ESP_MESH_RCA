
# ESP32 Software Stack:

|-------------------------------------------------------------------------------------------|
|             |                   |               |                     |                   |
|             |    asio_server    |   mail_soc,   |   smartconfig_main  |   mcpwm_module,   |
|             |                   |   mesh_mail   |                     |   led_indicate    |
|             |-------------------|---------------|---------------------|-------------------|
|    RTOS:    |                   |               |                     |                   |
|  (freeRTOS) |                   |   Mesh stack  |                     |                   |
|             |   message_queue   |---------------|                     |                   |
|             |         +         |                                     |                   |
|             |    ASIO stack     |             WI-FI Driver            |                   |
|             |                   |-------------------------------------|                   |
|             |                   |                                                         |
|             |                   |                       Platform HAL                      |
|-------------|-------------------|---------------------------------------------------------|

# Message delivery:

|--------------------------ROOT-NODE-------------------------------|----------------------NETWORK-NODES------------------------|
                                                                   |
|-----------------|     coded messages    |--------------|  coded messages  |-------------|
|                 |---->----|   |---->----|              |--------->--------|             |
|   ASIO server   |         |   |         |   mail_soc   |         |        |  mesh_mail  |
|                 |----<----|   |----<----|              |---------<--------|             |
|-----------------|         |   |         |--------------|         |        |-------------|
                            |   |                                  |               |                          |----------------|
                    |-------------------|                          |               |   control instructions   |                |
                    |                   |                          |               |------------>-------------|  mcpwm_module  |
                    |   message_queue   |                          |                                          |                |
                    |                   |                          |                                          |----------------|
                    |-------------------|                          |
